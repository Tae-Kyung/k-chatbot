# PRD: K-Student Success AI Guide (MVP)

## 1. 제품 개요

**제품명:** K-Student Success AI Guide

**요약:** 충북 지역 3개 대학(충북대, 한국교통대, 한국교원대) 외국인 유학생을 위한 AI 기반 다국어 챗봇 플랫폼. 비자/출입국 안내, 학사 정보, 지역 생활 지원, 취·창업 매칭 기능을 모바일 퍼스트 웹 인터페이스, 이식형 위젯, 메신저 연동을 통해 24시간 365일 제공한다.

**릴리스 범위:** MVP (최소 기능 제품)

---

## 2. 목표 및 기대 효과

| 목표 | 설명 |
|------|------|
| 중도 탈락 방지 | 행정·비자 절차 혼란으로 인한 유학생 이탈 예방 |
| 24시간 접근성 | 시간대·근무시간 제약 없는 상시 상담 체계 구축 |
| 지역 정주 유도 | 충북 지역 전략산업(이차전지, 반도체, 바이오) 기업과 유학생 취업 연계 |
| 운영 효율화 | 대학 담당자가 기술 지식 없이도 챗봇 콘텐츠를 관리할 수 있는 환경 제공 |

---

## 3. 대상 사용자

### 3.1 주요 사용자: 외국인 유학생
- 충북대, 한국교통대, 한국교원대 재학생
- 20대 청년층 중심
- 모바일 우선 사용 패턴
- 사용 언어: 한국어, 영어, 중국어, 베트남어, 몽골어, 캄보디아어(크메르어)

### 3.2 보조 사용자: 대학 관리자
- 각 대학 국제교류 담당 직원
- 비기술직; 노코드(No-Code) 콘텐츠 관리 도구 필요

---

## 4. 기능 요구사항 (MVP 범위)

### 4.1 대학 선택 랜딩 페이지

| 항목 | 요구사항 |
|------|----------|
| 레이아웃 | 3개 대학 로고 가로 배치 |
| 동작 | 로고 클릭 시 해당 대학 전용 테마(색상, 로고, 콘텐츠)가 적용된 챗봇 화면으로 이동 |
| 반응형 | 모바일 퍼스트, 완전 반응형 디자인 |

### 4.2 학생용 챗봇 인터페이스 (Student-Facing)

#### 4.2.1 다국어 지원
- 6개 국어: 한국어, English, 中文, Tiếng Việt, Монгол, ភាសាខ្មែរ
- 우측 상단 언어 전환 토글 배치
- LLM 기반 자연스러운 현지어 응답 (번역 투가 아닌 네이티브 수준)

#### 4.2.2 하단 퀵 메뉴
3개 카테고리 버튼 상시 노출:

| 카테고리 | 제공 내용 |
|----------|-----------|
| 비자/행정 | 비자 연장·변경 절차, 준비 서류 체크리스트, 출입국관리사무소 안내 |
| 학사/장학 | 대학별 학사 일정, 수강 신청, 장학금 정보 |
| 취업/지역정보 | 충북 지역 기업 채용 공고, 교통·의료·행정 등 생활 정보 |

#### 4.2.3 대화형 AI
- 챗봇 진입 시 대학별 환영 메시지 자동 표시 (선택 언어에 맞춤)
- 자유 텍스트 입력 기반 문맥 인식 응답
- RAG(검색 증강 생성) 기술 적용으로 출처 기반 정확한 답변 제공
- 대학별 개별 지식 베이스 운영
- 폴백(Fallback): AI 신뢰도가 낮을 경우 담당자 연결 안내
- 답변 피드백: 각 AI 응답에 대해 사용자가 만족도를 평가 (👍/👎 버튼)

#### 4.2.4 메신저 연동
- 플로팅 버튼 형태로 메신저 바로 연결:
  - **카카오톡** (국내 생활 상담 메인 채널)
  - **위챗(WeChat)** (중국인 유학생 전용)
  - **텔레그램(Telegram)** (기타 국가 유학생)
- MVP 범위: 메신저 채널 딥링크 연결 (전체 API 연동은 후속 버전에서 구현)

### 4.3 관리자 대시보드 (Admin-Facing)

#### 4.3.1 노코드 데이터 업로드
| 입력 유형 | 동작 |
|-----------|------|
| PDF / HWP 파일 업로드 | AI가 문서를 비동기 파싱하여 RAG 지식 베이스에 자동 색인 (처리 상태 실시간 표시) |
| URL 입력 | AI가 해당 웹페이지를 크롤링하여 색인 |
| 직접 텍스트 입력 | Q&A 쌍 또는 공지사항 직접 등록 |

#### 4.3.2 대학별 대시보드
- 각 관리자는 소속 대학 데이터만 열람 가능
- 주요 지표 표시:
  - 상위 질문 키워드
  - 언어별 질문 건수
  - 일별/주별 이용 추이

#### 4.3.3 답변 검증
- 언어별 AI 생성 답변 검토 기능
- 답변 수정·보정을 통한 품질 개선 피드백 루프

### 4.4 이식형 위젯
- JavaScript 스니펫(`<script>` 태그) 형태로 배포
- 외부 웹사이트 우측 하단에 플로팅 채팅 아이콘으로 렌더링
- 클릭 시 iframe/오버레이 내에 챗봇 UI 전체 표시
- 위젯 설정 파라미터를 통해 대학 컨텍스트 전달

---

## 5. 시스템 아키텍처 (MVP)

```
┌─────────────────────────────────────────────────┐
│                 클라이언트 레이어                  │
│  ┌──────────┐  ┌──────────┐  ┌───────────────┐ │
│  │ 웹 앱    │  │  위젯    │  │  메신저       │ │
│  │ (React)  │  │ (Embed)  │  │  (링크/API)   │ │
│  └────┬─────┘  └────┬─────┘  └──────┬────────┘ │
└───────┼──────────────┼───────────────┼──────────┘
        │              │               │
        ▼              ▼               ▼
┌─────────────────────────────────────────────────┐
│          Vercel (Next.js API Routes)            │
│              (REST / WebSocket)                 │
└──────────┬──────────────────┬───────────────────┘
           │                  │
           ▼                  ▼
┌────────────────┐  ┌─────────────────────────────┐
│ LLM 프로바이더  │  │         Supabase            │
│ (API)          │  │  ┌───────────────────────┐  │
│                │  │  │ PostgreSQL + pgvector  │  │
│ (다국어 응답    │  │  │ (DB + 벡터 스토어)     │  │
│  생성)         │  │  ├───────────────────────┤  │
│                │  │  │ Supabase Auth         │  │
│                │  │  │ (관리자 인증)          │  │
│                │  │  ├───────────────────────┤  │
│                │  │  │ Supabase Storage      │  │
│                │  │  │ (PDF, HWP 파일)       │  │
│                │  │  ├───────────────────────┤  │
│                │  │  │ Row Level Security    │  │
│                │  │  │ (대학별 데이터 격리)    │  │
│                │  │  └───────────────────────┘  │
└────────────────┘  └─────────────────────────────┘
```

---

## 6. 기술 스택

| 레이어 | 기술 |
|--------|------|
| 프론트엔드 | Next.js (App Router), React, Tailwind CSS |
| 백엔드 | Next.js API Routes (Vercel Serverless Functions) |
| BaaS | Supabase (통합 백엔드 플랫폼) |
| 데이터베이스 | Supabase PostgreSQL |
| 벡터 스토어 | Supabase pgvector (PostgreSQL 내장 확장) |
| 인증 | Supabase Auth (관리자 로그인, RLS 연동) |
| 파일 스토리지 | Supabase Storage (PDF, HWP 원본 파일 저장) |
| 데이터 격리 | Supabase Row Level Security (대학별 접근 제어) |
| LLM | OpenAI GPT-4o / Claude API |
| 파일 파싱 | PDF 파서, HWP 파서 |
| 호스팅/배포 | Vercel (프론트엔드 + API Routes 통합 배포) |
| 메신저 | 카카오톡 채널 API, WeChat Official Account API, Telegram Bot API |

---

## 7. 비기능 요구사항

| 요구사항 | 상세 기준 |
|----------|-----------|
| 가용성 | 24시간 365일 운영 (목표 가동률 99.5% 이상) |
| 응답 속도 | 챗봇 답변 5초 이내 |
| 모바일 성능 | Lighthouse 모바일 점수 80점 이상 |
| 보안 | HTTPS 적용, 관리자 인증, 대학별 데이터 격리 |
| 개인정보 보호 | 개인정보보호법(PIPA) 준수 |
| 확장성 | 3개 대학 동시 접속 사용자 지원 |
| 접근성 | WCAG 2.1 AA 수준 이상 |

---

## 8. 대학별 커스터마이징

공통 플랫폼을 공유하되 대학별로 차별화되는 요소:

| 요소 | 대학별 개별 적용 |
|------|-----------------|
| UI 테마 | 주/보조 색상, 로고, 파비콘 |
| 지식 베이스 | 대학별 문서, URL, Q&A 데이터 |
| 학사 정보 | 학사 일정, 수강 정책, 장학금 안내 |
| 캠퍼스 지도 | 대학별 캠퍼스 시설 안내 |
| 관리자 접근 | 소속 대학 데이터만 접근 가능 |

---

## 9. MVP 사용자 플로우

### 9.1 학생 플로우
1. 메인 페이지 접속 → 소속 대학 선택
2. 대학 전용 테마 챗봇 로딩 → 언어 선택
3. 퀵 메뉴 버튼 클릭 또는 자유 텍스트 질문 입력
4. AI가 대학 지식 베이스 기반으로 출처 포함 답변 제공
5. 미해결 시 → 메신저를 통한 담당자 상담 연결 안내

### 9.2 관리자 플로우
1. 관리자 로그인 → 소속 대학 대시보드 표시
2. PDF/HWP 업로드 또는 URL 붙여넣기 → 시스템이 콘텐츠 자동 색인
3. 질문 통계 확인 (상위 키워드, 언어별 분포)
4. 답변 검증 패널에서 AI 생성 답변 검토 및 수정

---

## 10. 성과 지표 (KPI)

| 지표 | 목표 |
|------|------|
| 월간 활성 사용자 (MAU) | 3개 대학 전체 도입률 추적 |
| 질문 자체 해결률 | 80% 이상 (담당자 연결 없이 해결) |
| 평균 응답 시간 | 5초 이내 |
| 사용자 만족도 (CSAT) | 5점 만점 중 4.0점 이상 (채팅 내 피드백) |
| 관리자 콘텐츠 업데이트 | 대학별 월 2회 이상 |
| 다국어 답변 정확도 | 6개 국어 전체 검증 완료 |

---

## 11. MVP 범위 외 (후속 개발)

- 메신저 전체 API 연동 (MVP는 딥링크만 지원)
- 푸시 알림
- 학생 계정 시스템 / 로그인
- 고급 분석 (코호트 분석, 리텐션 추적)
- 자동 문서 번역 파이프라인
- 대학 학사정보시스템(SIS) 연동
- 네이티브 모바일 앱 (iOS/Android)
- 음성 기반 상호작용
- 커뮤니티 포럼 기능

---

## 12. 리스크 및 대응 방안

| 리스크 | 대응 방안 |
|--------|-----------|
| LLM 환각 현상 (비자·법률 정보 오류) | RAG 기반 출처 고정 + 관리자 답변 검증 루프 + 법률 자문 면책 문구 표시 |
| 소수 언어 품질 저하 (몽골어, 크메르어) | 사전 구축된 이중 언어 Q&A 쌍 폴백 활용; 전문가 검수 체계 운영 |
| 대학 담당자 시스템 미숙 | 직관적 노코드 UI 제공; 온보딩 교육 실시 |
| 개인정보 보호 이슈 | 대학별 데이터 완전 격리; 대학 간 데이터 공유 금지; 개인정보보호법 준수 |
| 외부 사이트 위젯 성능 저하 | 경량 번들 구성; 지연 로딩 iframe 적용; CDN 배포 |
| Vercel Serverless 타임아웃 | 문서 파싱 파이프라인 비동기 처리; 상태 폴링 방식으로 진행률 제공 |
| 외부 도메인 위젯 CORS 차단 | Vercel API Routes CORS 허용 도메인 설정; 위젯 iframe 방식 병행 |
